!function e(t,i,n){function a(o,s){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[o]={exports:{}};t[o][0].call(p.exports,function(e){var i=t[o][1][e];return a(i?i:e)},p,p.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,i){!function(t,n){if("function"==typeof define&&define.amd)define(["exports","./plugins/piexif","./plugins/resize"],n);else if("undefined"!=typeof i)n(i,e("./plugins/piexif"),e("./plugins/resize"));else{var a={exports:{}};n(a.exports,t.piexif,t.resize),t.photoResize=a.exports}}(this,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){a(this,e),this.USE_WORKER=t||!0}return o(e,[{key:"loadAndResize",value:function(e,t,i,n,a){var r=this,o=new FileReader;o.onload=function(e){r.resize(e.target.result,t,i,n,a)},o.readAsDataURL(e)}},{key:"_loadExif",value:function(e){return this.exifObj=r["default"].load(e),this.exifObj}},{key:"getImageSize",value:function(e){var t=[0,0];e=e||this.exifObj;try{t[0]=e["0th"][r["default"].ImageIFD.ImageWidth],t[1]=e["0th"][r["default"].ImageIFD.ImageLength]}catch(i){try{t[0]=e.Exif[r["default"].ExifIFD.PixelXDimension],t[1]=e.Exif[r["default"].ExifIFD.PixelYDimension]}catch(n){return!1}}if(this.isSwapSide(e)){var a=t[0];t[0]=t[1],t[1]=a}return t}},{key:"isSwapSide",value:function(e){var t=this.getOrientation(e);return t>=5}},{key:"_JSImageResizer",value:function(e,t,n,a,r,o){var s=new i.Resize(t,n,a,r,(!0),(!0),this.USE_WORKER,o);s.resize(e)}},{key:"resize",value:function(e,t,i,n,a){var r,o=this;this._loadExif(e),a=a||!1,this.isSwapSide()&&(r=t,t=i,i=r);var s=document.createElement("canvas"),l=s.getContext("2d"),h=new Image;h.crossOrigin="Anonymous",h.onload=function(r){var h=1,p=1,f=1,d=t,u=i;return h=t/this.width,p=i/this.height,h<=p?(f=h,d=t,u=this.height*f):(f=p,d=this.width*f,u=i),!a&&f>=1?void n(e):(s.width=this.width,s.height=this.height,l.drawImage(this,0,0),void o._JSImageResizer(l.getImageData(0,0,this.width,this.height).data,this.width,this.height,d,u,function(e){var t=document.createElement("canvas");t.width=d,t.height=u;var i=t.getContext("2d");o._updateCanvas(i,i.createImageData(d,u),e),n(o._setSize(o.exifObj,t.toDataURL("image/jpeg"),d,u))}))},h.src=e}},{key:"_setSize",value:function(e,t,i,n){e["0th"][r["default"].ImageIFD.ImageWidth]=i,e["0th"][r["default"].ImageIFD.ImageLength]=n,e.Exif[r["default"].ExifIFD.PixelXDimension]=i,e.Exif[r["default"].ExifIFD.PixelYDimension]=n;var a=r["default"].dump(e);return r["default"].insert(a,t)}},{key:"_updateCanvas",value:function(e,t,i){for(var n=t.data,a=n.length,r=0;r<a;++r)n[r]=255&i[r];e.putImageData(t,0,0)}},{key:"getOrientation",value:function(e){return e=e||this.exifObj,e["0th"][r["default"].ImageIFD.Orientation]||1}},{key:"exifHTML",value:function(e){e=e||this.exifObj;var t="";for(var i in e)if("thumbnail"!=i){t+="-"+i+"<br>";for(var n in e[i])t+="  "+r["default"].TAGS[i][n].name+":"+e[i][n]+"<br>"}return t}}],[{key:"convDataURL2Binary",value:function(e){if(!e.startsWith("data:image/"))return!1;var t=e.split(",");return window.atob(t[1])}}]),e}();e["default"]=s,"undefined"!=typeof window&&!window.PhotoResize&&(window.PhotoResize=s)})},{"./plugins/piexif":2,"./plugins/resize":3}],2:[function(e,t,i){!function(e,n){if("function"==typeof define&&define.amd)define(["module","exports"],n);else if("undefined"!=typeof i)n(t,i);else{var a={exports:{}};n(a,a.exports),e.piexif=a.exports}}(this,function(e,t){"use strict";!function(){function i(e){return JSON.parse(JSON.stringify(e))}function n(e){for(var t=u(e);"ÿà"<=t[1].slice(0,2)&&t[1].slice(0,2)<="ÿï";)t=[t[0]].concat(t.slice(2));return t.join("")}function a(e){return p(">"+d("B",e.length),e)}function r(e){return p(">"+d("H",e.length),e)}function o(e){return p(">"+d("L",e.length),e)}function s(e,t,i){var n,s,l,h,f="",u="";if("Byte"==t)n=e.length,n<=4?u=a(e)+d("\0",4-n):(u=p(">L",[i]),f=a(e));else if("Short"==t)n=e.length,n<=2?u=r(e)+d("\0\0",2-n):(u=p(">L",[i]),f=r(e));else if("Long"==t)n=e.length,n<=1?u=o(e):(u=p(">L",[i]),f=o(e));else if("Ascii"==t)s=e+"\0",n=s.length,n>4?(u=p(">L",[i]),f=s):u=s+d("\0",4-n);else if("Rational"==t){if("number"==typeof e[0])n=1,l=e[0],h=e[1],s=p(">L",[l])+p(">L",[h]);else{n=e.length,s="";for(var m=0;m<n;m++)l=e[m][0],h=e[m][1],s+=p(">L",[l])+p(">L",[h])}u=p(">L",[i]),f=s}else if("SRational"==t){if("number"==typeof e[0])n=1,l=e[0],h=e[1],s=p(">l",[l])+p(">l",[h]);else{n=e.length,s="";for(var m=0;m<n;m++)l=e[m][0],h=e[m][1],s+=p(">l",[l])+p(">l",[h])}u=p(">L",[i]),f=s}else"Undefined"==t&&(n=e.length,n>4?(u=p(">L",[i]),f=e):u=e+d("\0",4-n));var y=p(">L",[n]);return[y,u,f]}function l(e,t,i){var n,a=8,r=Object.keys(e).length,o=p(">H",[r]);n=["0th","1st"].indexOf(t)>-1?2+12*r+4:2+12*r;var l,h="",f="";for(var l in e)if("string"==typeof l&&(l=parseInt(l)),!("0th"==t&&[34665,34853].indexOf(l)>-1||"Exif"==t&&40965==l||"1st"==t&&[513,514].indexOf(l)>-1)){var d=e[l],u=p(">H",[l]),m=C[t][l].type,y=p(">H",[P[m]]);"number"==typeof d&&(d=[d]);var c=a+n+i+f.length,g=s(d,m,c),S=g[0],R=g[1],v=g[2];h+=u+y+S+R,f+=v}return[o+h,f]}function h(e){var t,i;if("ÿØ"==e.slice(0,2))t=u(e),i=m(t),i?this.tiftag=i.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(e.slice(0,2))>-1)this.tiftag=e;else{if("Exif"!=e.slice(0,4))throw"Given file is neither JPEG nor TIFF.";this.tiftag=e.slice(6)}}function p(e,t){if(!(t instanceof Array))throw"'pack' error. Got invalid type argument.";if(e.length-1!=t.length)throw"'pack' error. "+(e.length-1)+" marks, "+t.length+" elements.";var i;if("<"==e[0])i=!0;else{if(">"!=e[0])throw"";i=!1}for(var n="",a=1,r=null,o=null,s=null;o=e[a];){if("b"==o.toLowerCase()){if(r=t[a-1],"b"==o&&r<0&&(r+=256),r>255||r<0)throw"'pack' error.";s=String.fromCharCode(r)}else if("H"==o){if(r=t[a-1],r>65535||r<0)throw"'pack' error.";s=String.fromCharCode(Math.floor(r%65536/256))+String.fromCharCode(r%256),i&&(s=s.split("").reverse().join(""))}else{if("l"!=o.toLowerCase())throw"'pack' error.";if(r=t[a-1],"l"==o&&r<0&&(r+=4294967296),r>4294967295||r<0)throw"'pack' error.";s=String.fromCharCode(Math.floor(r/16777216))+String.fromCharCode(Math.floor(r%16777216/65536))+String.fromCharCode(Math.floor(r%65536/256))+String.fromCharCode(r%256),i&&(s=s.split("").reverse().join(""))}n+=s,a+=1}return n}function f(e,t){if("string"!=typeof t)throw"'unpack' error. Got invalid type argument.";for(var i=0,n=1;n<e.length;n++)if("b"==e[n].toLowerCase())i+=1;else if("h"==e[n].toLowerCase())i+=2;else{if("l"!=e[n].toLowerCase())throw"'unpack' error. Got invalid mark.";i+=4}if(i!=t.length)throw"'unpack' error. Mismatch between symbol and string length. "+i+":"+t.length;var a;if("<"==e[0])a=!0;else{if(">"!=e[0])throw"'unpack' error.";a=!1}for(var r=[],o=0,s=1,l=null,h=null,p=null,f="";h=e[s];){if("b"==h.toLowerCase())p=1,f=t.slice(o,o+p),l=f.charCodeAt(0),"b"==h&&l>=128&&(l-=256);else if("H"==h)p=2,f=t.slice(o,o+p),a&&(f=f.split("").reverse().join("")),l=256*f.charCodeAt(0)+f.charCodeAt(1);else{if("l"!=h.toLowerCase())throw"'unpack' error. "+h;p=4,f=t.slice(o,o+p),a&&(f=f.split("").reverse().join("")),l=16777216*f.charCodeAt(0)+65536*f.charCodeAt(1)+256*f.charCodeAt(2)+f.charCodeAt(3),"l"==h&&l>=2147483648&&(l-=4294967296)}r.push(l),o+=p,s+=1}return r}function d(e,t){for(var i="",n=0;n<t;n++)i+=e;return i}function u(e){if("ÿØ"!=e.slice(0,2))throw"Given data isn't JPEG.";for(var t=2,i=["ÿØ"];;){if("ÿÚ"==e.slice(t,t+2)){i.push(e.slice(t));break}var n=f(">H",e.slice(t+2,t+4))[0],a=t+n+2;if(i.push(e.slice(t,a)),t=a,t>=e.length)throw"Wrong JPEG data."}return i}function m(e){for(var t,i=0;i<e.length;i++)if(t=e[i],"ÿá"==t.slice(0,2)&&"Exif\0\0"==t.slice(4,10))return t;return null}function y(e,t){return"ÿà"==e[1].slice(0,2)&&"ÿá"==e[2].slice(0,2)&&"Exif\0\0"==e[2].slice(4,10)?t?(e[2]=t,e=["ÿØ"].concat(e.slice(2))):e=null==t?e.slice(0,2).concat(e.slice(3)):e.slice(0).concat(e.slice(2)):"ÿà"==e[1].slice(0,2)?t&&(e[1]=t):"ÿá"==e[1].slice(0,2)&&"Exif\0\0"==e[1].slice(4,10)?t?e[1]=t:null==t&&(e=e.slice(0).concat(e.slice(2))):t&&(e=[e[0],t].concat(e.slice(1))),e.join("")}var c={};if(c.remove=function(e){var t=!1;if("ÿØ"==e.slice(0,2));else{if("data:image/jpeg;base64,"!=e.slice(0,23)&&"data:image/jpg;base64,"!=e.slice(0,22))throw"Given data is not jpeg.";e=S(e.split(",")[1]),t=!0}var i=u(e);if("ÿá"==i[1].slice(0,2)&&"Exif\0\0"==i[1].slice(4,10))i=[i[0]].concat(i.slice(2));else{if("ÿá"!=i[2].slice(0,2)||"Exif\0\0"!=i[2].slice(4,10))throw"Exif not found.";i=i.slice(0,2).concat(i.slice(3))}var n=i.join("");return t&&(n="data:image/jpeg;base64,"+g(n)),n},c.insert=function(e,t){var i=!1;if("Exif\0\0"!=e.slice(0,6))throw"Given data is not exif.";if("ÿØ"==t.slice(0,2));else{if("data:image/jpeg;base64,"!=t.slice(0,23)&&"data:image/jpg;base64,"!=t.slice(0,22))throw"Given data is not jpeg.";t=S(t.split(",")[1]),i=!0}var n="ÿá"+p(">H",[e.length+2])+e,a=u(t),r=y(a,n);return i&&(r="data:image/jpeg;base64,"+g(r)),r},c.load=function(e){var t;if("string"!=typeof e)throw"'load' gots invalid type argument.";if("ÿØ"==e.slice(0,2))t=e;else if("data:image/jpeg;base64,"==e.slice(0,23)||"data:image/jpeg;base64,"==e.slice(0,22))t=S(e.split(",")[1]);else{if("Exif"!=e.slice(0,4))throw"'load' gots invalid file data.";t=e.slice(6)}var i={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},n=new h(t);if(null===n.tiftag)return i;"II"==n.tiftag.slice(0,2)?n.endian_mark="<":n.endian_mark=">";var a=f(n.endian_mark+"L",n.tiftag.slice(4,8))[0];i["0th"]=n.get_ifd(a,"0th");var r=i["0th"].first_ifd_pointer;if(delete i["0th"].first_ifd_pointer,34665 in i["0th"]&&(a=i["0th"][34665],i.Exif=n.get_ifd(a,"Exif")),34853 in i["0th"]&&(a=i["0th"][34853],i.GPS=n.get_ifd(a,"GPS")),40965 in i.Exif&&(a=i.Exif[40965],i.Interop=n.get_ifd(a,"Interop")),"\0\0\0\0"!=r&&(a=f(n.endian_mark+"L",r)[0],i["1st"]=n.get_ifd(a,"1st"),513 in i["1st"]&&514 in i["1st"])){var o=i["1st"][513]+i["1st"][514],s=n.tiftag.slice(i["1st"][513],o);i.thumbnail=s}return i},c.dump=function(e){var t,a,r,o,s,h=8,f=i(e),d="Exif\0\0MM\0*\0\0\0\b",u=!1,m=!1,y=!1,c=!1;t="0th"in f?f["0th"]:{},("Exif"in f&&Object.keys(f.Exif).length||"Interop"in f&&Object.keys(f.Interop).length)&&(t[34665]=1,u=!0,a=f.Exif,"Interop"in f&&Object.keys(f.Interop).length&&(a[40965]=1,y=!0,r=f.Interop)),"GPS"in f&&Object.keys(f.GPS).length&&(t[34853]=1,m=!0,o=f.GPS),"1st"in f&&"thumbnail"in f&&null!=f.thumbnail&&(c=!0,f["1st"][513]=1,f["1st"][514]=1,s=f["1st"]);var g,S,C,R,v,x=l(t,"0th",0),B=x[0].length+12*u+12*m+4+x[1].length,L="",I=0,M="",b=0,w="",D=0,A="";if(u&&(g=l(a,"Exif",B),I=g[0].length+12*y+g[1].length),m&&(S=l(o,"GPS",B+I),M=S.join(""),b=M.length),y){var G=B+I+b;C=l(r,"Interop",G),w=C.join(""),D=w.length}if(c){var G=B+I+b+D;if(R=l(s,"1st",G),v=n(f.thumbnail),v.length>64e3)throw"Given thumbnail is too large. max 64kB"}var k="",W="",z="",F="\0\0\0\0";if(u){var O=h+B,E=p(">L",[O]),T=34665,H=p(">H",[T]),_=p(">H",[P.Long]),N=p(">L",[1]);k=H+_+N+E}if(m){var O=h+B+I,E=p(">L",[O]),T=34853,H=p(">H",[T]),_=p(">H",[P.Long]),N=p(">L",[1]);W=H+_+N+E}if(y){var O=h+B+I+b,E=p(">L",[O]),T=40965,H=p(">H",[T]),_=p(">H",[P.Long]),N=p(">L",[1]);z=H+_+N+E}if(c){var O=h+B+I+b+D;F=p(">L",[O]);var U=O+R[0].length+24+4+R[1].length,j="\0\0\0\0"+p(">L",[U]),V="\0\0\0\0"+p(">L",[v.length]);A=R[0]+j+V+"\0\0\0\0"+R[1]+v}var J=x[0]+k+W+F+x[1];return u&&(L=g[0]+z+g[1]),d+J+L+M+w+A},h.prototype={get_ifd:function(e,t){var i,n={},a=f(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],r=e+2;i=["0th","1st"].indexOf(t)>-1?"Image":t;for(var o=0;o<a;o++){e=r+12*o;var s=f(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],l=f(this.endian_mark+"H",this.tiftag.slice(e+2,e+4))[0],h=f(this.endian_mark+"L",this.tiftag.slice(e+4,e+8))[0],p=this.tiftag.slice(e+8,e+12),d=[l,h,p];s in C[i]&&(n[s]=this.convert_value(d))}return"0th"==t&&(e=r+12*a,n.first_ifd_pointer=this.tiftag.slice(e,e+4)),n},convert_value:function(e){var t,i=null,n=e[0],a=e[1],r=e[2];if(1==n)a>4?(t=f(this.endian_mark+"L",r)[0],i=f(this.endian_mark+d("B",a),this.tiftag.slice(t,t+a))):i=f(this.endian_mark+d("B",a),r.slice(0,a));else if(2==n)a>4?(t=f(this.endian_mark+"L",r)[0],i=this.tiftag.slice(t,t+a-1)):i=r.slice(0,a-1);else if(3==n)a>2?(t=f(this.endian_mark+"L",r)[0],i=f(this.endian_mark+d("H",a),this.tiftag.slice(t,t+2*a))):i=f(this.endian_mark+d("H",a),r.slice(0,2*a));else if(4==n)a>1?(t=f(this.endian_mark+"L",r)[0],i=f(this.endian_mark+d("L",a),this.tiftag.slice(t,t+4*a))):i=f(this.endian_mark+d("L",a),r);else if(5==n)if(t=f(this.endian_mark+"L",r)[0],a>1){i=[];for(var o=0;o<a;o++)i.push([f(this.endian_mark+"L",this.tiftag.slice(t+8*o,t+4+8*o))[0],f(this.endian_mark+"L",this.tiftag.slice(t+4+8*o,t+8+8*o))[0]])}else i=[f(this.endian_mark+"L",this.tiftag.slice(t,t+4))[0],f(this.endian_mark+"L",this.tiftag.slice(t+4,t+8))[0]];else if(7==n)a>4?(t=f(this.endian_mark+"L",r)[0],i=this.tiftag.slice(t,t+a)):i=r.slice(0,a);else{if(10!=n)throw"Exif might be wrong. Got incorrect value type to decode. type:"+n;if(t=f(this.endian_mark+"L",r)[0],a>1){i=[];for(var o=0;o<a;o++)i.push([f(this.endian_mark+"l",this.tiftag.slice(t+8*o,t+4+8*o))[0],f(this.endian_mark+"l",this.tiftag.slice(t+4+8*o,t+8+8*o))[0]])}else i=[f(this.endian_mark+"l",this.tiftag.slice(t,t+4))[0],f(this.endian_mark+"l",this.tiftag.slice(t+4,t+8))[0]]}return i instanceof Array&&1==i.length?i[0]:i}},"undefined"==typeof g)var g=function(e){for(var t,i,n,a,r,o,s,l="",h=0,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h<e.length;)t=e.charCodeAt(h++),i=e.charCodeAt(h++),n=e.charCodeAt(h++),a=t>>2,r=(3&t)<<4|i>>4,o=(15&i)<<2|n>>6,s=63&n,isNaN(i)?o=s=64:isNaN(n)&&(s=64),l=l+p.charAt(a)+p.charAt(r)+p.charAt(o)+p.charAt(s);return l};if("undefined"==typeof S)var S=function(e){var t,i,n,a,r,o,s,l="",h=0,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)a=p.indexOf(e.charAt(h++)),r=p.indexOf(e.charAt(h++)),o=p.indexOf(e.charAt(h++)),s=p.indexOf(e.charAt(h++)),t=a<<2|r>>4,i=(15&r)<<4|o>>2,n=(3&o)<<6|s,l+=String.fromCharCode(t),64!=o&&(l+=String.fromCharCode(i)),64!=s&&(l+=String.fromCharCode(n));return l};var P={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},C={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};C["0th"]=C.Image,C["1st"]=C.Image,c.TAGS=C,c.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},c.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,
SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},c.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},c.InteropIFD={InteroperabilityIndex:1},"undefined"!=typeof t?("undefined"!=typeof e&&e.exports&&(t=e.exports=c),t.piexif=c):window.piexif=c}()})},{}],3:[function(e,t,i){!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof i)t(i);else{var n={exports:{}};t(n.exports),e.resize=n.exports}}(this,function(e){"use strict";!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){!function(t,i){if("function"==typeof define&&define.amd)define(["exports"],i);else if("undefined"!=typeof e)i(e);else{var n={exports:{}};i(n.exports),t.resize=n.exports}}(void 0,function(e){function t(e,t,i,n,a,r,o,s){this.widthOriginal=Math.abs(parseInt(e)||0),this.heightOriginal=Math.abs(parseInt(t)||0),this.targetWidth=Math.abs(parseInt(i)||0),this.targetHeight=Math.abs(parseInt(n)||0),this.colorChannels=a?4:3,this.interpolationPass=!!r,this.useWebWorker=!!o,this.resizeCallback="function"==typeof s?s:function(e){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}Object.defineProperty(e,"__esModule",{value:!0}),e.Resize=t;var i=document.getElementsByTagName("script"),n=i[i.length-1].src.split("/");n.pop();var a=n.join("/")+"/resize.js";t.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.useWebWorker&&(this.useWebWorker=this.widthOriginal!=this.targetWidth||this.heightOriginal!=this.targetHeight,this.useWebWorker&&this.configureWorker()),this.useWebWorker||this.configurePasses()},t.prototype.configureWorker=function(){try{var e=this;this.worker=new Worker(a.substring(0,a.length-3)+"Worker.js"),this.worker.onmessage=function(t){e.heightBuffer=t.data,e.resizeCallback(e.heightBuffer)},this.worker.postMessage(["setup",this.widthOriginal,this.heightOriginal,this.targetWidth,this.targetHeight,this.colorChannels,this.interpolationPass])}catch(t){this.useWebWorker=!1}},t.prototype.configurePasses=function(){this.widthOriginal==this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4==this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4==this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal==this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4==this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},t.prototype.resizeWidthRGB=function(e){var t=this.ratioWeightWidthPass,i=1/t,n=0,a=0,r=0,o=0,s=0,l=0,h=0,p=this.originalWidthMultipliedByChannels-2,f=this.targetWidthMultipliedByChannels-2,d=this.outputWidthWorkBench,u=this.widthBuffer;do{for(s=0;s<this.originalHeightMultipliedByChannels;)d[s++]=0,d[s++]=0,d[s++]=0;n=t;do{if(a=1+r-o,!(n>=a)){for(s=0,l=r;s<this.originalHeightMultipliedByChannels;l+=p)d[s++]+=e[l++]*n,d[s++]+=e[l++]*n,d[s++]+=e[l]*n;o+=n;break}for(s=0,l=r;s<this.originalHeightMultipliedByChannels;l+=p)d[s++]+=e[l++]*a,d[s++]+=e[l++]*a,d[s++]+=e[l]*a;o=r+=3,n-=a}while(n>0&&r<this.originalWidthMultipliedByChannels);for(s=0,l=h;s<this.originalHeightMultipliedByChannels;l+=f)u[l++]=d[s++]*i,u[l++]=d[s++]*i,u[l]=d[s++]*i;h+=3}while(h<this.targetWidthMultipliedByChannels);return u},t.prototype.resizeWidthInterpolatedRGB=function(e){for(var t=this.ratioWeightWidthPass,i=0,n=0,a=0,r=0,o=0,s=this.widthBuffer,l=0;i<1/3;l+=3,i+=t)for(n=l,a=0;n<this.widthPassResultSize;a+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=e[a],s[n+1]=e[a+1],s[n+2]=e[a+2];i-=1/3;for(var h=this.widthOriginal-1;i<h;l+=3,i+=t)for(o=i%1,r=1-o,n=l,a=3*Math.floor(i);n<this.widthPassResultSize;a+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=e[a]*r+e[a+3]*o,s[n+1]=e[a+1]*r+e[a+4]*o,s[n+2]=e[a+2]*r+e[a+5]*o;for(h=this.originalWidthMultipliedByChannels-3;l<this.targetWidthMultipliedByChannels;l+=3)for(n=l,a=h;n<this.widthPassResultSize;a+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=e[a],s[n+1]=e[a+1],s[n+2]=e[a+2];return s},t.prototype.resizeWidthRGBA=function(e){var t=this.ratioWeightWidthPass,i=1/t,n=0,a=0,r=0,o=0,s=0,l=0,h=0,p=this.originalWidthMultipliedByChannels-3,f=this.targetWidthMultipliedByChannels-3,d=this.outputWidthWorkBench,u=this.widthBuffer;do{for(s=0;s<this.originalHeightMultipliedByChannels;)d[s++]=0,d[s++]=0,d[s++]=0,d[s++]=0;n=t;do{if(a=1+r-o,!(n>=a)){for(s=0,l=r;s<this.originalHeightMultipliedByChannels;l+=p)d[s++]+=e[l++]*n,d[s++]+=e[l++]*n,d[s++]+=e[l++]*n,d[s++]+=e[l]*n;o+=n;break}for(s=0,l=r;s<this.originalHeightMultipliedByChannels;l+=p)d[s++]+=e[l++]*a,d[s++]+=e[l++]*a,d[s++]+=e[l++]*a,d[s++]+=e[l]*a;o=r+=4,n-=a}while(n>0&&r<this.originalWidthMultipliedByChannels);for(s=0,l=h;s<this.originalHeightMultipliedByChannels;l+=f)u[l++]=d[s++]*i,u[l++]=d[s++]*i,u[l++]=d[s++]*i,u[l]=d[s++]*i;h+=4}while(h<this.targetWidthMultipliedByChannels);return u},t.prototype.resizeWidthInterpolatedRGBA=function(e){for(var t=this.ratioWeightWidthPass,i=0,n=0,a=0,r=0,o=0,s=this.widthBuffer,l=0;i<1/3;l+=4,i+=t)for(n=l,a=0;n<this.widthPassResultSize;a+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=e[a],s[n+1]=e[a+1],s[n+2]=e[a+2],s[n+3]=e[a+3];i-=1/3;for(var h=this.widthOriginal-1;i<h;l+=4,i+=t)for(o=i%1,r=1-o,n=l,a=4*Math.floor(i);n<this.widthPassResultSize;a+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=e[a]*r+e[a+4]*o,s[n+1]=e[a+1]*r+e[a+5]*o,s[n+2]=e[a+2]*r+e[a+6]*o,s[n+3]=e[a+3]*r+e[a+7]*o;for(h=this.originalWidthMultipliedByChannels-4;l<this.targetWidthMultipliedByChannels;l+=4)for(n=l,a=h;n<this.widthPassResultSize;a+=this.originalWidthMultipliedByChannels,n+=this.targetWidthMultipliedByChannels)s[n]=e[a],s[n+1]=e[a+1],s[n+2]=e[a+2],s[n+3]=e[a+3];return s},t.prototype.resizeHeightRGB=function(e){var t=this.ratioWeightHeightPass,i=1/t,n=0,a=0,r=0,o=0,s=0,l=0,h=this.outputHeightWorkBench,p=this.heightBuffer;do{for(s=0;s<this.targetWidthMultipliedByChannels;)h[s++]=0,h[s++]=0,h[s++]=0;n=t;do{if(a=1+r-o,!(n>=a)){for(s=0,a=r;s<this.targetWidthMultipliedByChannels;)h[s++]+=e[a++]*n,h[s++]+=e[a++]*n,h[s++]+=e[a++]*n;o+=n;break}for(s=0;s<this.targetWidthMultipliedByChannels;)h[s++]+=e[r++]*a,h[s++]+=e[r++]*a,h[s++]+=e[r++]*a;o=r,n-=a}while(n>0&&r<this.widthPassResultSize);for(s=0;s<this.targetWidthMultipliedByChannels;)p[l++]=Math.round(h[s++]*i),p[l++]=Math.round(h[s++]*i),p[l++]=Math.round(h[s++]*i)}while(l<this.finalResultSize);return p},t.prototype.resizeHeightInterpolated=function(e){for(var t=this.ratioWeightHeightPass,i=0,n=0,a=0,r=0,o=0,s=0,l=0,h=this.heightBuffer;i<1/3;i+=t)for(a=0;a<this.targetWidthMultipliedByChannels;)h[n++]=Math.round(e[a++]);i-=1/3;for(var p=this.heightOriginal-1;i<p;i+=t)for(l=i%1,s=1-l,r=Math.floor(i)*this.targetWidthMultipliedByChannels,o=r+this.targetWidthMultipliedByChannels,a=0;a<this.targetWidthMultipliedByChannels;++a)h[n++]=Math.round(e[r++]*s+e[o++]*l);for(;n<this.finalResultSize;)for(a=0,r=p*this.targetWidthMultipliedByChannels;a<this.targetWidthMultipliedByChannels;++a)h[n++]=Math.round(e[r++]);return h},t.prototype.resizeHeightRGBA=function(e){var t=this.ratioWeightHeightPass,i=1/t,n=0,a=0,r=0,o=0,s=0,l=0,h=this.outputHeightWorkBench,p=this.heightBuffer;do{for(s=0;s<this.targetWidthMultipliedByChannels;)h[s++]=0,h[s++]=0,h[s++]=0,h[s++]=0;n=t;do{if(a=1+r-o,!(n>=a)){for(s=0,a=r;s<this.targetWidthMultipliedByChannels;)h[s++]+=e[a++]*n,h[s++]+=e[a++]*n,h[s++]+=e[a++]*n,h[s++]+=e[a++]*n;o+=n;break}for(s=0;s<this.targetWidthMultipliedByChannels;)h[s++]+=e[r++]*a,h[s++]+=e[r++]*a,h[s++]+=e[r++]*a,h[s++]+=e[r++]*a;o=r,n-=a}while(n>0&&r<this.widthPassResultSize);for(s=0;s<this.targetWidthMultipliedByChannels;)p[l++]=Math.round(h[s++]*i),p[l++]=Math.round(h[s++]*i),p[l++]=Math.round(h[s++]*i),p[l++]=Math.round(h[s++]*i)}while(l<this.finalResultSize);return p},t.prototype.resize=function(e){this.useWebWorker?this.worker.postMessage(["resize",e]):this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},t.prototype.bypassResizer=function(e){return e},t.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),e||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels))},t.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),e||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels))},t.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(t){return[]}},t.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(t){return[]}}})})})})})})})})})})})})})})})},{}]},{},[1]);
//# sourceMappingURL=photo-resize.min.js.map
